<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Changelog • tidywikidatar</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">tidywikidatar</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.5.9.9005</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/caching.html">How caching works in tidywikidatar</a></li>
    <li><a class="dropdown-item" href="../articles/wikipedia_start.html">Using Wikipedia as a starting point</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/EDJNet/tidywikidatar/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-news">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Changelog</h1>
      <small>Source: <a href="https://github.com/EDJNet/tidywikidatar/blob/master/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="pkg-version" data-toc-text="development version" id="tidywikidatar-development-version">tidywikidatar (development version)<a class="anchor" aria-label="anchor" href="#tidywikidatar-development-version"></a></h2>
<ul><li>drop dependency on <code>WikidataQueryServiceR</code>
</li>
<li>enable setting default user agent for the session for query functions</li>
<li>more consistent documentation formatting</li>
<li>last version supporting legacy pipe <code>%&gt;%</code>
</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.5.9" id="tidywikidatar-059">tidywikidatar 0.5.9<a class="anchor" aria-label="anchor" href="#tidywikidatar-059"></a></h2><p class="text-muted">CRAN release: 2024-07-29</p>
<ul><li>drop dependency on <code>WikipediR</code>
</li>
<li>report informative error message from the api in <code>tw_search</code> and related functions</li>
<li>include “tidywikidatar/version” user agent in <code>tw_search</code> and related functions</li>
<li>fix <code>tw_get_wikipedia_section_links</code> when url provided as input</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.5.8" id="tidywikidatar-058">tidywikidatar 0.5.8<a class="anchor" aria-label="anchor" href="#tidywikidatar-058"></a></h2><p class="text-muted">CRAN release: 2024-03-28</p>
<ul><li>consistent results rather than error when searching empty string with <code>tw_search</code>
</li>
<li>consistent results rather than error when searching empty string with <code>tw_get_property_label</code>
</li>
<li>drop <code>usethis</code> dependency (PR by <a href="https://github.com/olivroy" class="external-link">@olivroy</a>)</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.5.7" id="tidywikidatar-057">tidywikidatar 0.5.7<a class="anchor" aria-label="anchor" href="#tidywikidatar-057"></a></h2><p class="text-muted">CRAN release: 2023-03-10</p>
<ul><li>fix: <code>tw_get_wikipedia_category_members</code> now works with categories that have more than 1000 member pages and consistently stores data in language-appropriate cache file also when language is derived from url</li>
<li>testing adjustments: more tests now rely on an embedded set of items to reduce risks of server timeouts when conducting checks, in particular from CRAN</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.5.6" id="tidywikidatar-056">tidywikidatar 0.5.6<a class="anchor" aria-label="anchor" href="#tidywikidatar-056"></a></h2><p class="text-muted">CRAN release: 2023-01-31</p>
<ul><li>fix: <code>tw_get</code> now caches Wikidata items that have been deleted, storing the error message as the value of property “error”</li>
<li>fix: <code>tw_search</code> now returns results consistently also when description missing in given language (issue stemming from update in a dependency)</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.5.5" id="tidywikidatar-055">tidywikidatar 0.5.5<a class="anchor" aria-label="anchor" href="#tidywikidatar-055"></a></h2><p class="text-muted">CRAN release: 2022-10-31</p>
<ul><li>fix: <code>tw_search</code> now checks cache efficiently also when cache settings are passed as parameters</li>
<li>fix: minor adjustments to prevent warnings and error with latest <code>purrr</code> and <code>tidyselect</code>
</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.5.4" id="tidywikidatar-054">tidywikidatar 0.5.4<a class="anchor" aria-label="anchor" href="#tidywikidatar-054"></a></h2><p class="text-muted">CRAN release: 2022-08-06</p>
<ul><li>enhancement: <code><a href="../reference/tw_get_wikipedia_page_links.html">tw_get_wikipedia_page_links()</a></code> now works more efficiently with cache and deals more graciously when given links to non-existing Wikipedia pages</li>
<li>fix: <code><a href="../reference/tw_get_wikipedia_category_members.html">tw_get_wikipedia_category_members()</a></code> now works as expected also when caching is disabled</li>
<li>fix: deal consistently with Wikipedia pages that have “&amp;” or other special characters in their title</li>
<li>fix: <code><a href="../reference/tw_get_wikipedia_page_links.html">tw_get_wikipedia_page_links()</a></code> now works consistently when non-standard characters or non-latin alphabets found in url</li>
<li>fix: <code><a href="../reference/tw_get_wikipedia_page_qid.html">tw_get_wikipedia_page_qid()</a></code> now works consistently when url given is not in the language set with <code><a href="../reference/tw_set_language.html">tw_set_language()</a></code>
</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.5.3" id="tidywikidatar-053">tidywikidatar 0.5.3<a class="anchor" aria-label="anchor" href="#tidywikidatar-053"></a></h2><p class="text-muted">CRAN release: 2022-06-07</p>
<ul><li>new feature: get identifiers of pages that are members of a category on Wikipedia with <code><a href="../reference/tw_get_wikipedia_category_members.html">tw_get_wikipedia_category_members()</a></code>
</li>
<li>fix: return a data frame of a single row filled with <code>NA</code> values when <code><a href="../reference/tw_get_qualifiers.html">tw_get_qualifiers()</a></code> would return no information on a given item/property combination; this ensures caching works as expected also in such cases.</li>
<li>fix: error in caching functions apparently due to <code>dbplyr</code> update/incompatibility with the <code>pool</code> package</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.5.2" id="tidywikidatar-052">tidywikidatar 0.5.2<a class="anchor" aria-label="anchor" href="#tidywikidatar-052"></a></h2><p class="text-muted">CRAN release: 2022-05-18</p>
<ul><li>new feature: <code><a href="../reference/tw_get_p_wide.html">tw_get_p_wide()</a></code> offers a more efficient way to get wide data frames with a number of properties (with relative labels) for a set of Wikidata id; it also facilitates collapsing values for ease of export to csv.</li>
<li>new: introduce <code><a href="../reference/tw_get_p1.html">tw_get_p1()</a></code> as a shorthand for <code>tw_get_p(only_first = TRUE, preferred = TRUE)</code>
</li>
<li>new: when pre-cached data is given to functions such as <code><a href="../reference/tw_get_property.html">tw_get_property()</a></code> or <code><a href="../reference/tw_get_label.html">tw_get_label()</a></code>, it looks for missing data if not all are present in given data frame</li>
<li>new: introduce cache indexing convenience functions, <code><a href="../reference/tw_index_cache_item.html">tw_index_cache_item()</a></code> and <code><a href="../reference/tw_index_cache_search.html">tw_index_cache_search()</a></code>. These should be significantly improved performance on the caching backend, but these are currently introduced as an opt-in as they have not been thoroughly tested with different database drivers. Running them once drastically improve performance with MySql when the cache goes into million of items. See also the vignette on caching.</li>
<li>fix: don’t look for cache folder when cache disabled in <code><a href="../reference/tw_get_property_same_length.html">tw_get_p()</a></code>
</li>
<li>fix: better handling of cases when NA (including, a vector with only NA), or NULL, are given as input to various functions</li>
<li>fix: when only a partial pre-cached data frame is passed to <code><a href="../reference/tw_get.html">tw_get()</a></code> and other functions as input, missing items are queried</li>
<li>fix: <code><a href="../reference/tw_get_wikipedia.html">tw_get_wikipedia()</a></code> consistently returns vector of the same length as input</li>
<li>fix: <code>rank</code> column mistakenly dropped in some cases when using <code><a href="../reference/tw_get_property.html">tw_get_property()</a></code>
</li>
<li>fix: when caching language is set manually via parameter (instead of via environment variable), a separate SQLite database is used, as expected</li>
<li>new: <code><a href="../reference/tw_check_qid.html">tw_check_qid()</a></code> has more parameters to deal with different use cases</li>
<li>new: new set of functions to add index to databases to improve performance when the local cache grows to many millions rows (<code><a href="../reference/tw_check_cache_index.html">tw_check_cache_index()</a></code>, <code><a href="../reference/tw_index_cache_item.html">tw_index_cache_item()</a></code>, and <code><a href="../reference/tw_index_cache_search.html">tw_index_cache_search()</a></code>). Tested with MySql.</li>
<li>all <code>_single</code> functions used internally are now not exported to facilitate auto-complete</li>
<li>new maintainer email address due to CRAN issues</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.5.1" id="tidywikidatar-051">tidywikidatar 0.5.1<a class="anchor" aria-label="anchor" href="#tidywikidatar-051"></a></h2><p class="text-muted">CRAN release: 2022-03-11</p>
<ul><li>introduce functions to get list of sections of Wikipedia pages - <code><a href="../reference/tw_get_wikipedia_page_sections.html">tw_get_wikipedia_page_sections()</a></code> - and then extract the links from a specific section - <code><a href="../reference/tw_get_wikipedia_page_section_links.html">tw_get_wikipedia_page_section_links()</a></code>
</li>
<li>introduce convenience function to get all Wikidata items that have a given property, irrespective of the value, <code><a href="../reference/tw_get_all_with_p.html">tw_get_all_with_p()</a></code>
</li>
<li>
<code><a href="../reference/tw_search.html">tw_search()</a></code> now has separate parameters for the search language, and the language in which label and description and returned (previously, these were always in English)</li>
<li>fix <code><a href="../reference/tw_get_qualifiers.html">tw_get_qualifiers()</a></code> when qualifier value is of type quantity</li>
<li>keep smooth caching also when a Wikidata item has no values and no label in the current language</li>
<li>introduce additional settings in database connections for drivers that need them</li>
<li>minor bug fixes</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.5.0" id="tidywikidatar-050">tidywikidatar 0.5.0<a class="anchor" aria-label="anchor" href="#tidywikidatar-050"></a></h2><p class="text-muted">CRAN release: 2022-01-26</p>
<ul><li>new vignette with examples starting from a Wikipedia page, with more examples using piped operations, and clearer references that separate group of functions in official documentation website</li>
<li>
<code><a href="../reference/tw_get.html">tw_get()</a></code> now keeps rank by default, facilitating retrieving more relevant results</li>
<li>
<code><a href="../reference/tw_get_qualifiers.html">tw_get_qualifiers()</a></code> now includes ranking such as “preferred”, “normal”, and “deprecated” associated with each property, as well as value type of the output (new format incompatible with previous cache, reset cache with <code><a href="../reference/tw_reset_qualifiers_cache.html">tw_reset_qualifiers_cache()</a></code>)</li>
<li>
<code><a href="../reference/tw_get_qualifiers.html">tw_get_qualifiers()</a></code> not returns correctly value when qualifier value type is a string (not a Wikidata identifier, not a date)</li>
<li>
<code><a href="../reference/tw_get_image.html">tw_get_image()</a></code> not respects all parameters consistently. <code><a href="../reference/tw_get_image.html">tw_get_image()</a></code> and <code><a href="../reference/tw_get_image_metadata.html">tw_get_image_metadata()</a></code> are now briefly described in the README.</li>
<li>
<code><a href="../reference/tw_get_wikipedia_page_links.html">tw_get_wikipedia_page_links()</a></code> now caches results, and provides more consistent results as a data frame</li>
<li>introduce <code><a href="../reference/tw_get_property_same_length.html">tw_get_p()</a></code> as an alias of <code><a href="../reference/tw_get_property_same_length.html">tw_get_property_same_length()</a></code> for brevity</li>
<li>introduce new parameters in <code><a href="../reference/tw_get_property_same_length.html">tw_get_p()</a></code> to deal with common pattern when only “preferred” or most recent property should be returned, rather than whatever Wikidata has first in the list, and add new section in the readme</li>
<li>add example datasets for illustrative purposes and forthcoming additional vignettes and examples, <code>tw_qid_meps</code> and <code>tw_qid_airports</code>
</li>
<li>drop legacy <code>include_id_and_p</code> parameter <code><a href="../reference/tw_get_qualifiers.html">tw_get_qualifiers()</a></code>
</li>
<li>add support for setting database connection parameters with <code><a href="../reference/tw_set_cache_db.html">tw_set_cache_db()</a></code> for easier use of alternatives to SQLite</li>
<li>new naming convention for local SQLite database, to reflect change that there is now one database per language</li>
<li>improve handling of connections to reduce the risk of connections remaining open, aiming at higher efficiency for integration with shiny apps</li>
<li>bug fix: fix error when Wikidata item has no label in any language</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.4.2" id="tidywikidatar-042">tidywikidatar 0.4.2<a class="anchor" aria-label="anchor" href="#tidywikidatar-042"></a></h2><p class="text-muted">CRAN release: 2021-09-14</p>
<ul><li>
<code><a href="../reference/tw_get_image.html">tw_get_image()</a></code> now returns consistently valid links if format is set to ‘embed’; it is now possible to get a direct link to images with a given resolution with the width parameter</li>
<li>introduce <code><a href="../reference/tw_get_image_metadata.html">tw_get_image_metadata()</a></code> to obtain adequate credits to be included when images are used</li>
<li>introduce functions to get Wikidata identifiers from Wikipedia pages</li>
<li>
<code><a href="../reference/tw_get_property.html">tw_get_property()</a></code> now consistently returns data frame with properties in the same order as given and does not fail if given invalid values</li>
<li>more consistent testing, less likely to be impacted to changes in Wikidata items</li>
<li>updated README with examples using the pipe operator</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.4.1" id="tidywikidatar-041">tidywikidatar 0.4.1<a class="anchor" aria-label="anchor" href="#tidywikidatar-041"></a></h2><p class="text-muted">CRAN release: 2021-08-04</p>
<ul><li>bug fix release: <code><a href="../reference/tw_get_label.html">tw_get_label()</a></code>, now actually always returns vector of the same length as input</li>
<li>new functions used internally for consistency and preventing the above issue under different scenarios</li>
<li>invalid identifiers and <code>NA</code> are now ignored by <code><a href="../reference/tw_get.html">tw_get()</a></code>
</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.4.0" id="tidywikidatar-040">tidywikidatar 0.4.0<a class="anchor" aria-label="anchor" href="#tidywikidatar-040"></a></h2><p class="text-muted">CRAN release: 2021-07-31</p>
<ul><li>
<code><a href="../reference/tw_get_label.html">tw_get_label()</a></code> actually returns vector of the same length as input</li>
<li>introduce <code><a href="../reference/tw_get_property_same_length.html">tw_get_property_same_length()</a></code> for easier integration with piped operations</li>
<li>introduce <code><a href="../reference/tw_get_property_with_details.html">tw_get_property_with_details()</a></code> to extract additional details such as language or unit of a property that are otherwise discarded with <code><a href="../reference/tw_get_property.html">tw_get_property()</a></code>. <code><a href="../reference/tw_get_property_with_details.html">tw_get_property_with_details()</a></code>, however, does not (yet) cache results.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.0" id="tidywikidatar-030">tidywikidatar 0.3.0<a class="anchor" aria-label="anchor" href="#tidywikidatar-030"></a></h2><p class="text-muted">CRAN release: 2021-06-07</p>
<ul><li>much more efficient caching</li>
<li>introduces partial compatibility with other caching backends via DBI</li>
<li>introduces progress bars</li>
<li>report informative error messages from server</li>
<li>tests fail without throwing errors if Wikidata server cannot be reached</li>
<li>new caching vignette</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.0" id="tidywikidatar-020">tidywikidatar 0.2.0<a class="anchor" aria-label="anchor" href="#tidywikidatar-020"></a></h2><p class="text-muted">CRAN release: 2021-04-19</p>
<ul><li>more efficient when input includes repeated id</li>
<li>better documentation and testing</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.0" id="tidywikidatar-010">tidywikidatar 0.1.0<a class="anchor" aria-label="anchor" href="#tidywikidatar-010"></a></h2>
<ul><li>all outputs as data frame or vector</li>
<li>caches data locally</li>
<li>facilitates basic queries</li>
</ul></div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Giorgio Comai, EDJNet.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

